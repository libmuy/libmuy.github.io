<!DOCTYPE html>
<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>rbenvよりRubyとJekyllのインストール（Linux） - LIBMUY</title>

    <link rel="shortcut icon" href="/assets/images/logo_black_small.png">
    <link rel="icon" href="/assets/images/logo_black_small.png">

    <link rel="stylesheet" href="/assets/css/wordpress.css">
    <link rel="stylesheet" href="/assets/css/menubar_test.css">
    <link rel="canonical" href="/web/Ruby-Jekyll-install.html">

    <link rel="stylesheet" href="/assets/prism/prism.css">
    <script src="/assets/prism/prism.js"></script>
    <script src="https://kit.fontawesome.com/45a69050db.js" crossorigin="anonymous"></script>

    <meta name="keywords" content="rbenvよりRubyとJekyllのインストール（Linux）, LIBMUY, ">
    <meta name="description" content="">
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>rbenvよりRubyとJekyllのインストール（Linux） | Libmuy’s Blog</title>
<meta name="generator" content="Jekyll v4.2.1">
<meta property="og:title" content="rbenvよりRubyとJekyllのインストール（Linux）">
<meta name="author" content="Libmuy">
<meta property="og:locale" content="ja_JP">
<meta name="description" content="Jekyllを使うための事前作業のインストールの手順メモです。 OSのパッケージ管理ソフトでインストールすると、いろいろバージョン問題が出たときのバージョン切替が難しくなるので、 手動インストールをお勧め。">
<meta property="og:description" content="Jekyllを使うための事前作業のインストールの手順メモです。 OSのパッケージ管理ソフトでインストールすると、いろいろバージョン問題が出たときのバージョン切替が難しくなるので、 手動インストールをお勧め。">
<link rel="canonical" href="http://0.0.0.0:4000/web/Ruby-Jekyll-install.html">
<meta property="og:url" content="http://0.0.0.0:4000/web/Ruby-Jekyll-install.html">
<meta property="og:site_name" content="Libmuy’s Blog">
<meta property="og:image" content="http://0.0.0.0:4000/assets/images/2021-09-26-Ruby-Jekyll-install_rbenv.jpg">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2021-09-26T00:00:00+09:00">
<meta name="twitter:card" content="summary">
<meta property="twitter:image" content="http://0.0.0.0:4000/assets/images/2021-09-26-Ruby-Jekyll-install_rbenv.jpg">
<meta property="twitter:title" content="rbenvよりRubyとJekyllのインストール（Linux）">
<meta name="twitter:site" content="@libmuy">
<meta name="twitter:creator" content="@Libmuy">
<meta property="fb:admins" content="libmuy">
<meta property="article:publisher" content="libmuy">
<script type="application/ld+json">
{"headline":"rbenvよりRubyとJekyllのインストール（Linux）","dateModified":"2021-09-26T00:00:00+09:00","datePublished":"2021-09-26T00:00:00+09:00","description":"Jekyllを使うための事前作業のインストールの手順メモです。 OSのパッケージ管理ソフトでインストールすると、いろいろバージョン問題が出たときのバージョン切替が難しくなるので、 手動インストールをお勧め。","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://0.0.0.0:4000/assets/images/logo_black_small.png"},"name":"Libmuy"},"url":"http://0.0.0.0:4000/web/Ruby-Jekyll-install.html","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/web/Ruby-Jekyll-install.html"},"@type":"BlogPosting","image":"http://0.0.0.0:4000/assets/images/2021-09-26-Ruby-Jekyll-install_rbenv.jpg","author":{"@type":"Person","name":"Libmuy"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

</head>

<body class="index">
    <nav>
        <a href="/">
            <img src="/assets/images/logo.svg">
            <span>LIBMUY</span>
        </a>
        <!-- 
            <ul class="nav-links">
                <li><a href="#">Home</a></li>
                <li><a href="#">About</a></li>
                <li><a href="#">Service</a></li>
                <li><a href="#">Contact</a></li>
            </ul> -->


        <div class="menu">
            <div class="bar bar1"></div>
            <div class="bar bar2"></div>
            <div class="bar bar3"></div>
        </div>

    </nav>
    <div class="container">
        <header id="header" itemscope="" itemtype="https://schema.org/WPHeader">
    <div id="head-in">
            <div id="sitename">
                <a href="/" itemprop="url"><img src="/assets/images/logo.svg" alt="" width="150" height="150" class="onepoint" itemprop="image" sizes="(max-width: 150px) 100vw, 150px">
                    <span itemprop="name about">LIBMUY</span>
                </a>
            </div>
    </div>
</header>
        <style type="text/css">
    #toc_container {
        display: none;
    }

    #left_toc {
        width: calc(var(--side-width) * 1.5);
        float: left;
        position: sticky;
        top: 0;
    }

    #left_toc a {
        color: var(--nav-color);
    }

    #left_toc a:hover {
        color: var(--nav-active-color);
    }

    ul.toc_list {
        padding: 0.5em 0.5em 0.5em 2em;
    }

    .toc_list ul {
        padding-left: 1.5em;
    }

    ul.toc_list li {
        line-height: 1.5;
        /*文の行高*/
        padding: 0.5em 0;
        /*前後の文との余白*/
    }

    .toc_title {
        text-align: center;
        border-bottom: solid 1px var(--nav-color);
        padding-bottom: 5px;
        margin-bottom: 10px;
    }

    #main {
        width: calc(100% - (var(--side-width) * 2.5));
    }

    @media screen and (max-width: 500px) {
        #toc_container {
            display: block;
        }

        #left_toc {
            display: none;
        }

        #main {
            width: 100%;
        }

    }

    @media screen and (max-width: 950px) {
        #toc_container {
            display: block;
        }

        #left_toc {
            display: none;
        }

        #main {
            width: calc(100% - (var(--side-width) * 1));
        }

    }
</style>

<div id="primary" class="clearfix">
    <div id="left_toc">
    <div id="side-fixed">
        <div class="toc_title">目次</div>
        <ul id="" class="toc_list">
<li class=" toc-h1"><a href="#rbenv%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">rbenvのインストール</a></li>
<li class=" toc-h1"><a href="#ruby%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">Rubyをインストール</a></li>
<li class=" toc-h1"><a href="#bundler%E3%81%A8jekyll%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">bundlerとJekyllをインストール</a></li>
<li class=" toc-h1">
<a href="#%E3%81%9D%E3%81%AE%E4%BB%96">その他</a>
<ul>
<li class=" toc-h2"><a href="#rbenv%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E7%90%86%E7%94%B1">rbenvを使った理由</a></li>
</ul>
</li>
</ul>
    </div>
</div>
<!--/#side-->
    <main id="main">
        <article>
            <div id="core" class="grid">
                <div itemprop="mainEntityOfPage" id="mainEntity" class="post post-109 type-post status-publish format-standard has-post-thumbnail hentry category-server tag-debian tag-linux tag-omv tag-openmediavault tag-server tag-wordpress ja">
                    <header id="article-header">
                        <h1 class="entry-title" itemprop="headline name">rbenvよりRubyとJekyllのインストール（Linux）</h1>
                    </header>
                    <div class="clearfix">
                        <p class="meta">
                            <i class="far fa-clock"></i>
                            <span class="date published">
                                <time class="entry-date updated" datetime="2021-09-26T00:00:00+09:00" itemprop="datePublished">
                                    26 Sep 2021
                                </time>
                            </span>
                            <i class="fas fa-redo-alt"></i>
                            <span class="date">
                                <meta itemprop="dateModified" content="2021-09-30T00:23:19+09:00">
                                30 Sep 2021
                            </span>
                        </p>

                        <div id="toc_container">
<span class="toc_title">Contents</span><input id="toc_toggle" type="checkbox" checked><label class="toc_toggle" for="toc_toggle"></label>
                            <ul id="" class="toc_list">
<li class=" toc-h1"><a href="#rbenv%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">rbenvのインストール</a></li>
<li class=" toc-h1"><a href="#ruby%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">Rubyをインストール</a></li>
<li class=" toc-h1"><a href="#bundler%E3%81%A8jekyll%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB">bundlerとJekyllをインストール</a></li>
<li class=" toc-h1">
<a href="#%E3%81%9D%E3%81%AE%E4%BB%96">その他</a>
<ul>
<li class=" toc-h2"><a href="#rbenv%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%9F%E7%90%86%E7%94%B1">rbenvを使った理由</a></li>
</ul>
</li>
</ul>
                        </div>

                        <p>Jekyllを使うための事前作業のインストールの手順メモです。
OSのパッケージ管理ソフトでインストールすると、いろいろバージョン問題が出たときのバージョン切替が難しくなるので、
手動インストールをお勧め。</p>

<h1 id="rbenvのインストール">rbenvのインストール</h1>

<ol>
  <li>必要パッケージをインストール
    <pre><code class="language-bash line-numbers"> sudo apt install -y libssl-dev libreadline-dev zlib1g-dev gcc g++ make
</code></pre>
  </li>
  <li>ダウンロード
    <pre><code class="language-bash line-numbers"> git clone https://github.com/sstephenson/rbenv.git .rbenv
 git clone https://github.com/sstephenson/ruby-build.git ~/.rbenv/plugins/ruby-build
</code></pre>
  </li>
  <li>環境変数設定<br>
 環境変数設定後、一回Shellを終了して再度入る
    <pre><code class="language-bash line-numbers"> echo "# For rbenv" &gt;&gt; ~/.bashrc
 echo 'export PATH="$HOME/.rbenv/bin:$PATH"' &gt;&gt; ~/.bashrc
 echo 'eval "$(~/.rbenv/bin/rbenv init -)"' &gt;&gt; ~/.bashrc
</code></pre>
  </li>
</ol>

<h1 id="rubyをインストール">Rubyをインストール</h1>
<ol>
  <li>インストール可能のバージョン表示：
    <pre><code class="language-bash line-numbers"> rbenv install -l
</code></pre>
    <p>結果：</p>
    <pre><code class="language-bash line-numbers"> 2.6.8
 2.7.4
 3.0.2
 jruby-9.2.19.0
 mruby-3.0.0
 rbx-5.0
 truffleruby-21.2.0.1
 truffleruby+graalvm-21.2.0

 Only latest stable releases for each Ruby implementation are shown.
 Use 'rbenv install --list-all / -L' to show all local versions.
</code></pre>
  </li>
  <li>インストール：
    <pre><code class="language-bash line-numbers"> rbenv install 2.7.4
 rbenv rehash
 rbenv global 2.7.4
</code></pre>
    <p>インストール後、gemもインストールされる</p>
  </li>
</ol>

<h1 id="bundlerとjekyllをインストール">bundlerとJekyllをインストール</h1>

<pre><code class="language-bash line-numbers">gem install bundler jekyll
</code></pre>
<p>インストール後、一回シェルを終了して再度入るとPATHが通ることになる。</p>

<h1 id="その他">その他</h1>

<h2 id="rbenvを使った理由">
<code>rbenv</code>を使った理由</h2>

<ul>
  <li>
<code>jekyll server</code>時、下記警告がでる。
    <pre><code class="language-bash line-numbers">  Warning: the running version of Bundler (2.1.2) is older than the version that created the lockfile (2.2.27). We suggest you to upgrade to the version that created the lockfile by running `gem install bundler:2.2.27`.
</code></pre>
  </li>
  <li>調べたら、<code>gem update --system</code> を実行してくれっと記載があるが、<code>gem update --system</code> を実行後、エラー
    <pre><code class="language-bash line-numbers">  Loading the rubygems/defaults/operating_system.rb file caused an error. This file is owned by your OS, not by rubygems upstream. Please find out which OS package this file belongs to and follow the guidelines from your OS to report the problem and ask for help.
</code></pre>
    <p>↓<br>
  <a href="https://github.com/rubygems/rubygems/issues/4186" title="Ruby github issue">ここ</a> によると、
  Debian系のパッケージ・リポジトリのRubyを使っているからだ</p>
    <blockquote>
      <p>Unfortunately, updating rubygems of a ruby installation provided by Debian is not supported</p>
    </blockquote>
  </li>
</ul>

                    </div>
                    <div class="meta-box">
                        <p class="meta meta-u">
                            
                            
                            
                            



<span class="category items" itemprop="keywords">
    
    
    
    
    <i class="fas fa-folder-open"></i>
    <a href="/category/web/">Web関連</a>
    
    
</span>
                            <span class="tags items" itemprop="keywords">

    
    
    <span class="first-item">
        <i class="fas fa-tags"></i>
        <a href="/tag/rbenv/">rbenv</a>
    </span>
    
    
    
    <span class="break">,</span>
    <a href="/tag/Ruby/">Ruby</a>
    
    
    
    <span class="break">,</span>
    <a href="/tag/Jekyll/">Jekyll</a>
    
    
</span>
                        </p>
                    </div>
                </div>
            </div>
        </article>
    </main>
    
    <div id="side">
    <aside>
        <div id="side-fixed">
            <div class="home ">
                <a href="/">HOME</a>
            </div>
            

            
            
            


            <div class="category-lv1 ">
                <a href="/category/linux">Linux(4)</a>
            </div>
            
            
            
            


            <div class="category-lv1 ">
                <a href="/category/kernel">カーネル(4)</a>
            </div>
            
            
            
            


            <div class="category-lv1 ">
                <a href="/category/network">ネットワーク(2)</a>
            </div>
            
            
            
            


            <div class="category-lv1 current">
                <a href="/category/web">Web関連(3)</a>
            </div>
            
            
            
            


            <div class="category-lv1 ">
                <a href="/category/tools">ツール(2)</a>
            </div>
            
            
            
            


            <div class="category-lv1 ">
                <a href="/category/devtips">開発Tips(2)</a>
            </div>
            
            
            
            


            <div class="category-lv1 ">
                <a href="/category/shell">シェル(1)</a>
            </div>
            
            
        </div>
        <!-- <div id="search-4" class="widget widget_search">
                    <h3 class="side-title">検索</h3>
                    <div id="search" itemscope="" itemtype="https://schema.org/WebSite">
                        <meta itemprop="url" content="https://linuxref.net/">
                        <form itemprop="potentialAction" itemscope="" itemtype="https://schema.org/SearchAction"
                            method="get" class="search-form" action="https://linuxref.net/">
                            <meta itemprop="target" content="https://linuxref.net/?s={s}"><label><input
                                    itemprop="query-input" type="search" class="search-field" placeholder="  サイト内検索"
                                    value="" name="s" title="サイト内検索" required=""></label><input type="submit"
                                class="search-submit" value="検索">
                        </form>
                    </div>
                </div>
                <div id="search-4" class="widget widget_search">
                    <h3 class="side-title">Debug</h3>

                    <div>site.data.a(level):</div>
                    <div>site.data.b(level):</div>
                    <div>site.data.c(level):</div>
                    <div>site.data.d(level):</div>
                    <div>page.data[category]:web</div>
                    <div>page.data[newdata]:</div>

                </div> -->
    </aside>
</div>
<!--/#side-->

</div>
    </div>
    <button onclick="goToTopFunction()" id="goToTopBtn" title="Go to top">Top</button>
    <script>
        const menu = document.querySelector('.menu');
        const side = document.querySelector('#side');
        //Get the button:
        goToTopBtn = document.getElementById("goToTopBtn");


        // When the user clicks on the button, scroll to the top of the document
        function goToTopFunction() {
            window.scrollTo({
        top: 0,
        behavior: "smooth",
      });
            // document.body.scrollTop = 0; // For Safari
            // document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE and Opera
        }

        menu.addEventListener('click', function () {
            this.classList.toggle('toggle');
            side.classList.toggle('toggle');
        });

        var prevScrollpos = window.pageYOffset;
        window.onscroll = function () {
            var currentScrollPos = window.pageYOffset;
            var nav = document.getElementsByTagName("nav")[0];

            if (prevScrollpos > currentScrollPos) {
                nav.style.top = "0";
            } else {
                nav.style.top = "-51px";
            }
            prevScrollpos = currentScrollPos;
            console.log("currentScrollPos:" + currentScrollPos);
            if (currentScrollPos > 300) {
                goToTopBtn.style.visibility = "visible";
                goToTopBtn.style.opacity = "0.5";
            } else {
                goToTopBtn.style.visibility = "hidden";
                goToTopBtn.style.opacity = "0";
            }
        }


    </script>
    <div id="footer" itemscope="" itemtype="https://schema.org/WPFooter">
    <footer>
        <div id="copyright">
            <p class="copy">Copyright © <span itemprop="copyrightYear">2021</span> <span itemprop="copyrightHolder name">Libmuy</span> All Rights Reserved.</p>
        </div>
    </footer>
</div>
</body>

</html>
